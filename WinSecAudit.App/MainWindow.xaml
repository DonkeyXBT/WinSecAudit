<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="WinSecAudit.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:WinSecAudit"
    xmlns:controls="using:WinSecAudit.Controls"
    xmlns:animations="using:CommunityToolkit.WinUI.Animations"
    Title="WinSecAudit">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="280" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!-- Navigation Pane -->
        <Grid Grid.Column="0" Background="{ThemeResource LayerFillColorDefaultBrush}">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!-- App Header -->
            <StackPanel Grid.Row="0" Padding="20" Spacing="8">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Border Grid.Column="0"
                            Width="48" Height="48"
                            CornerRadius="8"
                            Background="{StaticResource AccentBrush}">
                        <FontIcon Glyph="&#xE8D7;"
                                  FontSize="24"
                                  Foreground="White"
                                  HorizontalAlignment="Center"
                                  VerticalAlignment="Center"/>
                    </Border>

                    <StackPanel Grid.Column="1" Margin="12,0,0,0" VerticalAlignment="Center">
                        <TextBlock Text="WinSecAudit"
                                   Style="{StaticResource SubtitleTextBlockStyle}"
                                   FontWeight="SemiBold"/>
                        <TextBlock Text="Security Auditing Tool v2.0"
                                   Style="{StaticResource CaptionTextBlockStyle}"
                                   Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    </StackPanel>
                </Grid>
            </StackPanel>

            <!-- Navigation Menu -->
            <NavigationView x:Name="NavView"
                           Grid.Row="1"
                           IsBackButtonVisible="Collapsed"
                           IsPaneToggleButtonVisible="False"
                           IsSettingsVisible="False"
                           PaneDisplayMode="Left"
                           OpenPaneLength="280"
                           SelectionChanged="NavView_SelectionChanged">
                <NavigationView.MenuItems>
                    <NavigationViewItem Content="Dashboard" Tag="Dashboard">
                        <NavigationViewItem.Icon>
                            <FontIcon Glyph="&#xE80F;"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>

                    <NavigationViewItemHeader Content="Security Scans"/>

                    <NavigationViewItem Content="Quick Scan" Tag="QuickScan">
                        <NavigationViewItem.Icon>
                            <FontIcon Glyph="&#xE916;"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>

                    <NavigationViewItem Content="Full Audit" Tag="FullAudit">
                        <NavigationViewItem.Icon>
                            <FontIcon Glyph="&#xE9D5;"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>

                    <NavigationViewItem Content="Custom Scan" Tag="CustomScan">
                        <NavigationViewItem.Icon>
                            <FontIcon Glyph="&#xE90F;"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>

                    <NavigationViewItemHeader Content="Categories"/>

                    <NavigationViewItem Content="Active Directory" Tag="ActiveDirectory">
                        <NavigationViewItem.Icon>
                            <FontIcon Glyph="&#xE716;"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>

                    <NavigationViewItem Content="Local Policies" Tag="LocalPolicies">
                        <NavigationViewItem.Icon>
                            <FontIcon Glyph="&#xE8A7;"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>

                    <NavigationViewItem Content="Firewall" Tag="Firewall">
                        <NavigationViewItem.Icon>
                            <FontIcon Glyph="&#xE83D;"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>

                    <NavigationViewItem Content="Services" Tag="Services">
                        <NavigationViewItem.Icon>
                            <FontIcon Glyph="&#xE912;"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>

                    <NavigationViewItem Content="Registry" Tag="Registry">
                        <NavigationViewItem.Icon>
                            <FontIcon Glyph="&#xEDA2;"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>

                    <NavigationViewItem Content="Users &amp; Groups" Tag="Users">
                        <NavigationViewItem.Icon>
                            <FontIcon Glyph="&#xE77B;"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>

                    <NavigationViewItem Content="Network" Tag="Network">
                        <NavigationViewItem.Icon>
                            <FontIcon Glyph="&#xE968;"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>

                    <NavigationViewItem Content="Audit Policy" Tag="AuditPolicy">
                        <NavigationViewItem.Icon>
                            <FontIcon Glyph="&#xE7C3;"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>

                    <NavigationViewItem Content="Processes" Tag="Processes">
                        <NavigationViewItem.Icon>
                            <FontIcon Glyph="&#xE9F5;"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>

                    <NavigationViewItem Content="Scheduled Tasks" Tag="Tasks">
                        <NavigationViewItem.Icon>
                            <FontIcon Glyph="&#xE823;"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>

                    <NavigationViewItemSeparator/>

                    <NavigationViewItem Content="Remediation" Tag="Remediation">
                        <NavigationViewItem.Icon>
                            <FontIcon Glyph="&#xE90F;"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>

                    <NavigationViewItem Content="Reports" Tag="Reports">
                        <NavigationViewItem.Icon>
                            <FontIcon Glyph="&#xE9F9;"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>

                    <NavigationViewItem Content="Baselines" Tag="Baselines">
                        <NavigationViewItem.Icon>
                            <FontIcon Glyph="&#xE728;"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>
                </NavigationView.MenuItems>

                <NavigationView.FooterMenuItems>
                    <NavigationViewItem Content="Settings" Tag="Settings">
                        <NavigationViewItem.Icon>
                            <FontIcon Glyph="&#xE713;"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>

                    <NavigationViewItem Content="About" Tag="About">
                        <NavigationViewItem.Icon>
                            <FontIcon Glyph="&#xE946;"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>
                </NavigationView.FooterMenuItems>
            </NavigationView>

            <!-- Status Bar -->
            <Border Grid.Row="2"
                    Padding="16,12"
                    Background="{ThemeResource CardBackgroundFillColorSecondaryBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="0,1,0,0">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Ellipse Grid.Column="0"
                             Width="8" Height="8"
                             Fill="{StaticResource PassedSeverityBrush}"
                             VerticalAlignment="Center"/>

                    <TextBlock Grid.Column="1"
                               Margin="8,0,0,0"
                               Text="Ready"
                               Style="{StaticResource CaptionTextBlockStyle}"
                               VerticalAlignment="Center"/>
                </Grid>
            </Border>
        </Grid>

        <!-- Content Area -->
        <Grid Grid.Column="1" Background="{ThemeResource LayerOnMicaBaseAltFillColorSecondaryBrush}">
            <Frame x:Name="ContentFrame" Padding="24"/>
        </Grid>
    </Grid>
</Window>
